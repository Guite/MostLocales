# Commands for building a p2 site with these locale fragment bundles

# set path to target platform
setpref targetPlatformPath=${WORKSPACE}../../MOST-1_Prepare-1_Target_Platform/lastSuccessful/archive/targetPlatform

# materialise stuff by cquery/rmap
resolve --properties "refProduct/de.guite.modulestudio.build/buckminster.properties" "scm/production/de.guite.modulestudio.locales.build/most.cquery"

# clean the workspace
build --clean

# build feature p2 repository
perform --properties "refProduct/de.guite.modulestudio.build/buckminster.properties" "de.guite.modulestudio.locales.build#site.p2"

# move repository to /site.p2.artifact/
perform "de.guite.modulestudio.locales.build#finish.repository"
